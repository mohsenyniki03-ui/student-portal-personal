<!DOCTYPE html>
<html xmlns="http:/ /www.w3.org/1999/xhtml" xmlns:th="http:/ /www.thymeleaf.org">

<!-- <head>
    <title>cnnn</title>
</head> -->

<body>
    <h1 style="text-align: center;">Schedule Your Courses With Us! </h1>
    <img th:src="@{/images/welcome.png}" width="500" style="display:block; margin:auto;">
    <!-- quick access buttons -->
    <div style="text-align: center; margin-top: 12px;">
        
        <!-- Access my schedule: goes to /schedule which we'll require authentication for -->
        <a th:href="@{/schedule}" style="margin-left: 10px; text-decoration:none;">
            <button style="background:#17a2b8;color:white;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;">Access my schedule</button>
        </a>
    </div>
    <form th:action="@{/search}" method="get" style="text-align: center; margin-top: 20px;">
        <input type="text" name="query" placeholder="Search for a course" style="width: 420px; height: 35px;">

        <!-- Campus Filter -->
        <select name="campus" style="height: 35px;">
            <option value="">All Campuses</option>
            <option value="Bloomington">Bloomington</option>
            <option value="Kokomo">Kokomo</option>
            <option value="Indianapolis">Indianapolis</option>
        </select>

        <!-- Semester Filter -->
        <select name="semester" style="height: 35px;">
            <option value="">All Semesters</option>
            <option value="Fall">Fall</option>
            <option value="Spring">Spring</option>
            <option value="Summer">Summer</option>
        </select>

        <button type="submit" style="width: max-content; height: 35px;">Search</button>
    </form>

    <div th:if="${error}" style="color: red; text-align: center;">
        <p th:text="${error}"></p>
    </div>

    <!-- Search Results Section -->
    <div th:if="${results}" style="margin-top: 30px; text-align: center;">
        <h3>Search Results:</h3>
        <ul style="list-style: none; padding: 0;">
            <li th:each="course : ${results}">
                <a th:href="@{'/courses/' + ${course.courseId}}">
                    <strong th:text="${course.courseId}"></strong>
                    <span th:text="${course.courseName}"></span> -
                </a>
                (<span th:text="${course.credits}"></span> credits) -
                <span th:text="${course.instructor}"></span> -
                <span th:text="${course.campusId}"></span> -
                <span th:text="${course.semester}"></span>
                <span th:text="${course.schedule}"></span>
                <form th:action="@{'/enroll/' + ${course.courseId}}" method="post" style="display:inline;">
                    <button type="submit" 
                        style="margin-left: 15px; background-color: #007BFF; color: white; border: none; 
                               padding: 5px 10px; border-radius: 5px; cursor: pointer;">
                        Enroll
                    </button>
                </form>
            </li>
        </ul>
    </div>

</body>

</html>